# ════════════════════════════════════════════════════════════════════════════════
# ALCOM V3 — Production Environment Configuration
# ════════════════════════════════════════════════════════════════════════════════
# IMPORTANT: Copy this file to .env.production and fill in ALL values
# NEVER commit .env.production to version control
# ════════════════════════════════════════════════════════════════════════════════

# ──── Environment ────
NODE_ENV=production

# ──── Database (Railway PostgreSQL) ────
# Get this from Railway PostgreSQL service → Connect → DATABASE_URL
DATABASE_URL="postgresql://user:password@host:port/database?schema=public"

# ──── Redis (Railway Redis) ────
# Get this from Railway Redis service → Connect → REDIS_URL
REDIS_URL="redis://default:password@host:port"

# ──── API Configuration ────
PORT=4000
# Generate with: openssl rand -hex 32
JWT_SECRET="REPLACE_WITH_64_CHAR_RANDOM_STRING"
JWT_REFRESH_SECRET="REPLACE_WITH_64_CHAR_RANDOM_STRING"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# ──── CORS (Production Domain) ────
FRONTEND_URL="https://app.alcom.cm"

# ──── Frontend ────
NEXT_PUBLIC_API_URL="https://api.alcom.cm"

# ──── File Storage ────
# Configure persistent volume for /app/uploads
UPLOAD_DIR="/app/uploads"

# ──── Email (Resend) ────
# 1. Go to https://resend.com/api-keys
# 2. Create API key
# 3. Verify domain alcom.cm in Resend dashboard
RESEND_API_KEY="re_XXXXXXXXXXXXX"
EMAIL_FROM="Alcom <noreply@alcom.cm>"

# ──── Logging ────
LOG_LEVEL="info"
# For Better Stack / Logtail (optional)
# LOGTAIL_SOURCE_TOKEN="YOUR_LOGTAIL_TOKEN"

# ──── Rate Limiting ────
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ──── Security ────
# BCRYPT_ROUNDS=12
# SESSION_SECRET="REPLACE_WITH_RANDOM_STRING"

# ════════════════════════════════════════════════════════════════════════════════
# DEPLOYMENT CHECKLIST
# ════════════════════════════════════════════════════════════════════════════════
# [ ] All environment variables filled with production values
# [ ] JWT_SECRET and JWT_REFRESH_SECRET are unique 64-char hex strings
# [ ] DATABASE_URL points to production PostgreSQL
# [ ] REDIS_URL points to production Redis
# [ ] R2 bucket created and credentials set
# [ ] Resend API key created and domain verified
# [ ] FRONTEND_URL and NEXT_PUBLIC_API_URL use actual production domains
# ════════════════════════════════════════════════════════════════════════════════
